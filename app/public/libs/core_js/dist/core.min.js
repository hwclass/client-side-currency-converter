/** core.js - v0.2.0 - 2015-01-10
* Copyright (c) 2015 Mauricio Soares;
* Licensed MIT 
*/


!function(a,b){var c=function(){this.modules={}};c.prototype.register=function(a,b){return this.modules[a]?(this.helpers.err("!!module",a),!1):void(this.modules[a]={constructor:b,instance:null})},c.prototype.moduleCheck=function(a,b){return b?!a||!a.instance:!a||a.instance},c.prototype.getElement=function(a){return b.getElementById(a)},c.prototype.start=function(b){var c=this.modules[b],d=this.getElement(b);return this.moduleCheck(c)?(this.helpers.err("!start",b),!1):(c.instance=new c.constructor(new a.Sandbox(b)),c.instance.el=d,void(c.instance.init&&c.instance.init()))},c.prototype.stop=function(b){var c=this.modules[b];return this.moduleCheck(c,!0)?(this.helpers.err("!stop",b),!1):(c.instance.destroy&&c.instance.destroy(),c.instance=null,void a.Sandbox.clearNotifications(b))},c.prototype.startAll=function(){this.xAll("start")},c.prototype.stopAll=function(){this.xAll("stop")},c.prototype.xAll=function(a){for(var b in this.modules)this.modules.hasOwnProperty(b)&&this[a](b)},a.Core=new c}(this,document),function(a){var b=function(c,d){a.helpers.log(b.messages[c]+'"'+d+'"')};b.messages={"!start":"Could not start the given module, it's either already started or is not registered: ","!stop":"Could not stop the given module, it's either already stopped or is not registered: ","!!module":"Can't register an already registered module: ","!!listen":"There's already an listen handler to the notification: "},a.helpers=a.helpers||{},a.helpers.err=b}(this.Core),function(a){var b=function(a){return"[object Array]"===Object.prototype.toString.call(a)};a.helpers=a.helpers||{},a.helpers.isArray=b}(this.Core),function(a,b){var c=b.console?b.console.log.bind(b.console):function(){};a.helpers=a.helpers||{},a.helpers.log=c}(this.Core,this),function(a){var b=function(a){return Array.prototype.slice.call(a)};a.helpers=a.helpers||{},a.helpers.toArray=b}(this.Core),function(a){"use strict";var b={},c=function(a,c){b[a]=c},d=function(a){return b[a]||null};a.extend=c,a.getExtension=d}(this.Core),function(a,b,c){var d=function(a){this.module=a};d.notifications={},d.clearNotifications=function(a){delete d.notifications[a]},d.prototype.notify=function(a){for(var b in d.notifications){var c=d.notifications[b][a.type];c&&c.callback.call(c.context,a.data)}},d.prototype.listen=function(a){var b=c.toArray(arguments);if(!c.isArray(a))return this.addNotification.apply(this,arguments);for(var d=0,e=a.length;e>d;d+=1)b[0]=a[d],this.addNotification.apply(this,b)},d.prototype.addNotification=function(b,e,f,g){var h=d.notifications,i=!1;h[this.module]&&h[this.module][b]?g?i=!0:c.err("!!listen",b):i=!0,i&&(h[this.module]=h[this.module]||{},h[this.module][b]={callback:e,context:f||a})},d.prototype.x=function(a){return b.getExtension(a)},a.Sandbox=d}(this,this.Core,this.Core.helpers);
//# sourceMappingURL=core.min.js.map